<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
  // spread 로 객체,배열 복사
  // 얕은 복사
  const a = [4, 2, 1];
  const b = [...a];
  b[0] = 44;
  console.log(b);
  console.log(a);

  // 문제 발생 코드
  const c = [[2, 3], [0, 1], [5, 6]];
  const d = [...c];
  d[0][0] = 22;
  console.log(d);
  console.log(c);

  // 깊은 복사 : spread // 잘 안쓰임
  const e = [[...c[0]], [...c[1]], [...c[2]]];
  e[0][0] = 222;
  console.log(e);
  console.log(c);

  //for : 잘 안씀
  const f = [];
  for (const item of c) {
    f.push([...item]);
  }
  f[0][0] = -2222;
  console.log(f);
  console.log(c);

  // JSON로 바꾸고 -> 객체(배열)로 파싱
  const g = JSON.parse(JSON.stringify(c));
  g[0][0] = -333;
  console.log(g);
  console.log(c);

  // structuredClone() : 깊은 복사 해주는 메소드
  // 깊은복사 : 값자체를 복사
  // 원래 객체와는 별도의 객체. 새로운 참조값
  // 얕은복사 : 참조값을 복사 고로 복사한놈 값 수정시
  // 원래 객체도 값이 변하게됨 주의
  // 자주 안보임(brand new) (신상코드), 자주 쓰이게 될 예정
  // 우리는 이 함수를 주로 사용할 예정
  const h = structuredClone(c);
  h[0][0] = -555;
  console.log(h);
  console.log(c);

  // 연습 : structuredClone
  const i = [[9, 1], ["spring", "css"], "java"];
  const j = structuredClone(i);
  j[0][0] = 5;
  j[1][0] = "react";
  console.log(j);
  console.log(i);

</script>
</body>
</html>